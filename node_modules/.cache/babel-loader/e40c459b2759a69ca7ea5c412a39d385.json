{"ast":null,"code":"var _jsxFileName = \"/home/divyanshu/nodejs/letsChat/client/src/components/register/register.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport makeToast from \"../../toaster\";\nimport axios from 'axios';\nimport './register.css';\n\nfunction Register() {\n  const history = useHistory();\n  const [email, setemail] = useState('');\n  const [name, setname] = useState('');\n  const [password, setpassword] = useState('');\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n\n    if (token) {\n      history.push(\"/dashboard\");\n    }\n  }, []);\n\n  const registerUser = () => {\n    axios.post('http://localhost:5000/register', {\n      name,\n      email,\n      password\n    }).then(res => {\n      if (res.data.error) {\n        makeToast(\"error\", res.data.error);\n        console.log(res.data);\n      } else {\n        makeToast(\"success\", res.data.message);\n        history.push('/');\n        console.log(res.data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"joinOuterContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"joinInnerContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Username\",\n    className: \"joinInput mt-20\",\n    type: \"text\",\n    onChange: event => setname(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Email\",\n    className: \"joinInput mt-20\",\n    type: \"text\",\n    onChange: event => setemail(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Password\",\n    className: \"joinInput mt-20\",\n    type: \"password\",\n    onChange: event => setpassword(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => registerUser(),\n    className: 'button mt-20',\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Already have an account ?\"))));\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/divyanshu/nodejs/letsChat/client/src/components/register/register.js"],"names":["React","useState","useEffect","Link","useHistory","makeToast","axios","Register","history","email","setemail","name","setname","password","setpassword","token","localStorage","getItem","push","registerUser","post","then","res","data","error","console","log","message","catch","err","event","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAASC,IAAT,EAAeC,UAAf,QAAgC,kBAAhC;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;;AACA,SAASC,QAAT,GAAoB;AAClB,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACE,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZ,UAAMa,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd;;AACH,QAAIF,KAAJ,EAAW;AACTP,MAAAA,OAAO,CAACU,IAAR,CAAa,YAAb;AACD;AAEE,GANO,EAMN,EANM,CAAT;;AAQA,QAAMC,YAAY,GAAG,MAAI;AACrBb,IAAAA,KAAK,CAACc,IAAN,CAAW,gCAAX,EAA6C;AACzCT,MAAAA,IADyC;AACpCF,MAAAA,KADoC;AAC9BI,MAAAA;AAD8B,KAA7C,EAGLQ,IAHK,CAGAC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACC,IAAJ,CAASC,KAAZ,EAAkB;AAChBnB,QAAAA,SAAS,CAAC,OAAD,EAAUiB,GAAG,CAACC,IAAJ,CAASC,KAAnB,CAAT;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAhB;AACF,OAHA,MAIG;AACAlB,QAAAA,SAAS,CAAC,SAAD,EAAYiB,GAAG,CAACC,IAAJ,CAASI,OAArB,CAAT;AACAnB,QAAAA,OAAO,CAACU,IAAR,CAAa,GAAb;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAhB;AACH;AACD,KAbK,EAcLK,KAdK,CAcEC,GAAD,IAAO;AACZJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AAED,KAjBK;AAkBH,GAnBD;;AAqBA,sBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,WAAW,EAAC,UAAnB;AAA8B,IAAA,SAAS,EAAC,iBAAxC;AAA0D,IAAA,IAAI,EAAC,MAA/D;AAAsE,IAAA,QAAQ,EAAGC,KAAD,IAAWlB,OAAO,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,WAAW,EAAC,OAAnB;AAA2B,IAAA,SAAS,EAAC,iBAArC;AAAuD,IAAA,IAAI,EAAC,MAA5D;AAAmE,IAAA,QAAQ,EAAGF,KAAD,IAAWpB,QAAQ,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,WAAW,EAAC,UAAnB;AAA8B,IAAA,SAAS,EAAC,iBAAxC;AAA0D,IAAA,IAAI,EAAC,UAA/D;AAA0E,IAAA,QAAQ,EAAGF,KAAD,IAAWhB,WAAW,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CARF,eAYI;AAAQ,IAAA,OAAO,EAAI,MAAIb,YAAY,EAAnC;AAAuC,IAAA,SAAS,EAAE,cAAlD;AAAkE,IAAA,IAAI,EAAC,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,CAbJ,CADA,CADJ;AAqBH;;AAED,eAAeZ,QAAf","sourcesContent":["import React, { useState ,useEffect} from 'react';\nimport { Link ,useHistory} from \"react-router-dom\";\nimport makeToast from \"../../toaster\"\nimport axios from 'axios';\nimport './register.css';\nfunction Register() {\n  const history = useHistory()\n    const [email, setemail] = useState('');\n    const [name, setname] = useState('');\n    const [password, setpassword] = useState('');\n\n    useEffect(()=>{\n      const token = localStorage.getItem(\"jwt\");\n   if (token) {\n     history.push(\"/dashboard\");\n   }\n   \n     },[])\n\n    const registerUser = ()=>{\n        axios.post('http://localhost:5000/register', {\n            name,email,password\n        })\n  .then(res => {\n    if(res.data.error){\n      makeToast(\"error\", res.data.error);\n      console.log(res.data)\n   }\n   else{\n       makeToast(\"success\", res.data.message);\n       history.push('/')\n       console.log(res.data)\n   }\n  })\n  .catch((err)=>{\n    console.log(err);\n\n  })\n    }\n\n    return (\n        <div className=\"joinOuterContainer\">\n        <div className=\"joinInnerContainer\">\n          <h1 className=\"heading\">Register</h1>\n          <div>\n            <input placeholder=\"Username\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setname(event.target.value)} />\n          </div>\n          <div>\n            <input placeholder=\"Email\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setemail(event.target.value)} />\n          </div>\n          <div>\n            <input placeholder=\"Password\" className=\"joinInput mt-20\" type=\"password\" onChange={(event) => setpassword(event.target.value)} />\n          </div>\n          \n            <button onClick = {()=>registerUser()} className={'button mt-20'} type=\"submit\">Register</button>\n            <h5>\n                <Link to=\"/\">Already have an account ?</Link>\n            </h5>\n        </div>\n      </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}